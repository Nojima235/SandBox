<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BBãƒŠãƒ“</title>

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;
  margin:0;
  background:#f6f7f9;
  color:#111;
}

header{
  padding:16px 16px 8px;
  background:#fff;
  border-bottom:1px solid #e6e8eb;
  position:relative;
  top:0;
  z-index:10;
}

.title{font-size:24px;font-weight:800;}
.sub{font-size:15px;color:#555;margin-top:4px;}

/* ï¼ˆä»»æ„ï¼‰é–‹ç™ºä¸­ãƒãƒƒã‚¸ã‚‚æƒãˆã‚‹ãªã‚‰ */
.devBadge{
  position:absolute;
  top:50%;
  left:35%;
  transform:translate(-50%, -50%);

  font-size:15px;
  font-weight:1100;
  letter-spacing:.12em;

  color:#fff;
  background:#d40000;

  padding:7px 16px;
  border-radius:999px;
  opacity: 0.8;

  pointer-events:none;
}

.wrap{
  max-width:900px;
  margin:0 auto;
  padding:20px;
}

.grid{
  display:grid;
  gap:20px;
  margin-top:20px;
}

@media(min-width:700px){
  .grid{ grid-template-columns:1fr 1fr; }
}

.card{
  background:#fff;
  border:2px solid #e6e8eb;
  border-radius:20px;
  overflow:hidden;
  cursor:pointer;
  transition: all 0.2s ease;
  box-shadow:0 4px 14px rgba(0,0,0,0.08);
}

.card:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 20px rgba(0,0,0,0.12);
}

.card.selected{
  border:3px solid #111;
  box-shadow:0 10px 24px rgba(0,0,0,0.18);
}

.card img{
  width:100%;
  height:180px;       /* â† å°‘ã—å°ã•ã */
  object-fit:contain; /* â† å…¨ä½“è¡¨ç¤º */
  background:#fff;    /* ä½™ç™½å¯¾ç­– */
  padding:10px;       /* å°‘ã—ä½™ç™½ */
}

.cardLabel{
  padding:16px;
  font-size:20px;
  font-weight:800;
  text-align:center;
}

.appSwitch{
  position:fixed;
  right:18px;
  bottom:18px;
  display:flex;
  gap:14px;
  z-index:9999;
}

.appSwitch a{
  width:64px;
  height:64px;
  display:grid;
  place-items:center;
  border-radius:22px;
  border:1px solid #d9dde3;
  background:#fff;
  text-decoration:none;
  box-shadow:0 10px 26px rgba(0,0,0,0.18);
  font-size:30px;
}
.appSwitch a.on{
  border-color:#111;
}
</style>
</head>
<body>

<header>
  <div class="title">BBãƒŠãƒ“</div>
  <div class="sub">å…‰å›ç·šã®è¦‹ç©ã‚‚ã‚Š</div>
  <div class="devBadge">âš  é–‹ç™ºä¸­ âš </div>
</header>

<div class="wrap">

  <div class="grid">
    <div class="card" id="houseCard" data-type="house">
      <img src="img/house.png" alt="æˆ¸å»ºã¦">
      <div class="cardLabel">æˆ¸å»ºã¦</div>
    </div>

    <div class="card" id="apartmentCard" data-type="apartment">
      <img src="img/apartment.png" alt="ãƒãƒ³ã‚·ãƒ§ãƒ³">
      <div class="cardLabel">ãƒãƒ³ã‚·ãƒ§ãƒ³</div>
    </div>
  </div>

</div>

<nav class="appSwitch">
  <a href="ContractNavigator.html">ğŸ“‹</a>
  <a href="CarrierPalette.html">ğŸ“±</a>
  <a href="BBNavigator.html" class="on">ğŸ </a>
</nav>

<script>
const STORAGE_KEY = "contract_navi_ctx_v2_multi";

function loadShared(){
  const raw = localStorage.getItem(STORAGE_KEY);
  if(!raw) return { houseNet:{} };
  try{
    return JSON.parse(raw);
  }catch(e){
    return { houseNet:{} };
  }
}

function saveHousing(type){
  const shared = loadShared();
  shared.houseNet = shared.houseNet || {};
  shared.houseNet.housingType = type;
  localStorage.setItem(STORAGE_KEY, JSON.stringify(shared));
}

function highlightSelected(){
  const shared = loadShared();
  const type = shared.houseNet?.housingType;

  document.querySelectorAll(".card").forEach(card=>{
    card.classList.remove("selected");
    if(card.dataset.type === type){
      card.classList.add("selected");
    }
  });
}

document.querySelectorAll(".card").forEach(card=>{
  card.addEventListener("click", ()=>{
    const type = card.dataset.type;
    saveHousing(type);
    highlightSelected();
  });
});

highlightSelected();
</script>

</body>
</html>
